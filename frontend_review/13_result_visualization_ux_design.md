# 📊 13. 분석 결과 시각화 및 가독성 개선 설계 (UI/UX)

RAG 심층 분석이 완료된 후, 사용자가 복잡한 특허 문맥과 유사도 점수를 직관적이고 빠르게 이해할 수 있도록 **결과 화면(ResultView)의 시각화 및 가독성**을 대폭 개선합니다.

---

## 🎯 1. 유사도 점수 컬러 코딩 시스템 (Color Coding)

AI가 도출한 침해 위험도(Risk Level) 및 유사도(Similarity Score)에 따라 시각적인 경고 수준을 차등 부여하여, 결과창을 열자마자 직관적인 의사결정이 가능하도록 설계합니다.

| 분류 | 점수 구간 | 색상(Tailwind) | 상태 아이콘 | 사용자 안내 메시지 (예시) |
| :--- | :--- | :--- | :--- | :--- |
| **위험 (High)** | 80% ~ 100% | `text-red-600` / `bg-red-50` | 🔴 (경고) | "기존 특허와 매우 유사합니다. 특허 출원 전 아이디어 우회 및 수정이 강력히 권장됩니다." |
| **주의 (Medium)** | 50% ~ 79% | `text-yellow-600` / `bg-yellow-50` | 🟡 (주의) | "부분적인 유사성이 확인됩니다. 청구항의 범위를 재검토하시기 바랍니다." |
| **안전 (Low)** | 0% ~ 49% | `text-green-600` / `bg-green-50` | 🟢 (안전) | "독창성이 확인됩니다. 선행 특허와의 충돌 가능성이 비교적 낮습니다." |

---

## 🧾 2. 분석 결과 카드 및 테이블 레이아웃 설계

현재 단순 텍스트 나열식인 결과 창을 **모듈형 카드(Card)** 및 **비교 차트 레이아웃**으로 재구성합니다.

### A. 요약 대시보드 (Top Section)
- **종합 평가(Summary)**: 화면 최상단에 핵심 결론을 2~3줄로 대형 폰트로 배치.
- **최고 위험도 인디케이터**: Top 3 특허 중 가장 높은 유사도 점수를 메인 게이지 바(Gauge Bar) 형태로 표출.

### B. Top 3 선행 특허 상세 카드 (Middle Section)
각 특허별로 독립된 카드(Card) 컨테이너를 사용하며, 다음 요소를 포함합니다.
- **특허명 및 출원번호**: 카드 헤더에 배치.
- **특허 원문 링크(KIPRIS 등)**: 클릭 시 새 창(`target="_blank"`)으로 열리는 외부 하이퍼링크 버튼(🔗) 직접 연결.
- **핵심 구절 하이라이트 (Keyword Highlighting)**: AI가 찾아낸 나의 아이디어와 유사한 원문 구절의 특정 키워드에 형광펜 효과(`<mark class="bg-yellow-200">`) 적용.

### C. 시각화 데이터 차트 도입 검토 (Bottom Section)
데이터의 다각도 분석을 위해 `react-chartjs-2` 또는 `recharts` 라이브러리를 활용한 시각화 차트 도입을 검토합니다.
1. **레이더 차트 (Radar Chart)**: 내 아이디어와 특정 특허 간의 다목적(기술분야, 해결과제, 효과 등) 유사 요소 비교.
2. **바 차트 (Bar Chart)**: Top 3 특허 간의 종합 유사도 점수 직관적 크기 비교.

---

## 🖨️ 3. PDF 내보내기 결과물 레이아웃 개선

화면상에 구현된 인터랙티브한 UI가 PDF 캡처 시 잘리거나 깨지지 않도록 출력용 반응형 레이아웃을 고도화합니다.
- **페이지 브레이크 방지**: `<div className="break-inside-avoid">` 를 적용하여 한 특허 카드가 PDF 페이지 중간에서 쪼개지는 현상 방지.
- **배경색 최적화**: 다크 모드나 컬러 배경이 PDF 잉크를 과도하게 소모하지 않도록 캡처 순간의 임시 화이트톤 테마 전환 훅업 적용.
- **차트 렌더링 대기**: `html2canvas`가 차트 애니메이션이 끝나기 전에 캡처하는 것을 방지하기 위해 렌더링 완료 딜레이 적용.

---

### 📋 PM 및 Frontend 전달용 백로그

- **Epic: 분석 결과 시각화 고도화 (Frontend)**
  - [ ] 유사도 점수 기반(Red/Yellow/Green) 컬러 코딩 및 뱃지 UI 컴포넌트 분리
  - [ ] `ResultView.tsx` 내 Top 3 특허 아이템을 독립된 Card 레이아웃으로 리팩토링 및 텍스트 하이라이트 기능 추가
  - [ ] 비교 차트(Chart.js 또는 Recharts) 라이브러리 선정 및 도입 (선택사항)
  - [ ] PDF 내보내기 인쇄 레이아웃(`break-inside-avoid` 등) 최적화 작업
