### 🛠️ 프론트엔드 코드베이스 분석 및 구현 내용 (RAG 로딩 UI 개선)
(현재 UI 코드의 개선 방향 및 구현 상세 요약)

기존 `app.py`에 존재하던 단일 `status` 텍스트와 단순 `progress_bar` 구조를, 기획('01_rag_loading_status_ui.md') 및 PM 백로그('09_rag_loading_pm_backlog.md') 요구사항을 반영하여 대대적으로 개편했습니다. 

1. **에러 핸들링 및 예외 처리 (Epic 3 반영)**
   - API 토큰 초과(Call Limit/Quota) 발생 시 명확하게 "AI 시스템이 혼잡합니다"라는 에러 메시지를 표시하도록 예외 처리를 구체화시켰습니다.
   - 시간 초과(Timeout/30초 초과) 에러에 대해서는 별도로 포착하여, "서버와의 연결이 불안정합니다. 재연결 중..."이라고 안내하도록 했습니다.
   - 검색 결과가 없는(Empty Context) 경우 강제로 무한 로딩에 빠지지 않도록, 빈 배열 반환 시 `st.warning` 플로우로 즉시 탈출(early-return)하는 로직을 적용했습니다.

2. **로딩 상태 스켈레톤 UI (Epic 1 반영)**
   - 분석 버튼을 누른 직후, 텍스트 스트리밍이 넘어오기 전까지 동적인(애니메이션) 스켈레톤 로더(Skeleton UI) CSS를 컨테이너 내부에 주입했습니다. 빈 공간이 아닌 스캐닝되는 듯한 효과를 주어 앱의 반응성을 극대화했습니다.

3. **단계별 프로그레스 스텝퍼 및 타이머 바 (Epic 1 반영)**
   - "예상 소요 시간: 약 30초" 안내 문구를 프로그레스 바 상단에 고정했습니다.
   - LLM 이벤트의 `percent` 게이지에 따라 동적으로 상태 컨테이너(`st.status`)의 라벨 텍스트를 "1단계: 검색 중..." → "2단계: 분석 중..." → "3단계: 생성 중..." 포맷으로 자동 변환해 주는 스텝퍼(Stepper) 로직을 통합했습니다.
   - 진행 중 30초가 경과해도 끝나지 않으면 자동으로 "평소보다 오래 걸리고 있습니다." 라는 토스트(Toast) 메시지를 띄워 사용자를 재차 안심시킵니다.

4. **분석 취소(Cancel) 로직 (Epic 1 반영)**
   - Streamlit 구조의 특성(루프 진행 중 버튼 렌더 불가)을 고려하여, 분석을 누름과 동시에 `[팁: 분석이 너무 오래 걸릴 경우 우측 상단의 정지(Stop) 버튼을 눌러 작업을 취소할 수 있습니다]`라는 정보성 박스를 명확히 노출시켜 사용자 통제권을 부여했습니다.

### 📋 PM 및 Backend 전달용 백로그 (복사해서 각 에이전트에게 전달하세요)
- **Epic: UI 컴포넌트 고도화 (Frontend)**
  - [x] Streamlit `app.py` 내부 상태 시각화 컴포넌트(스텔레톤 UI, 스텝퍼) 코드 이식 완료
  - [x] 30초 지연 시 토스트 및 각종 API 한도 오류 모달 팝업 추가 완료
- **Epic: 백엔드 API 통신 보강 (Frontend/Backend)**
  - [ ] 차후 완전한 비동기 SSE 독립 엔드포인트 마련 시 프론트엔드 React/JS 구조로의 파일 분리 논의 필요 (현재는 `app.py` 모놀리식 구조에 최적화하여 구현함)
  - [ ] `run_full_analysis` 함수 내에서 30초 초과 시 프론트엔드로 `timeout` 이벤트를 스트림해줄 수 있는지 백엔드에 기능 추가 문의 요망.
